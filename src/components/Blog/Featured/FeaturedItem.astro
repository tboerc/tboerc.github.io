---
import type { CollectionEntry } from 'astro:content'
import Title from '@components/Title.astro'
import Button from '@components/Button.astro'
import PostDate from '@components/Blog/Post/PostDate.astro'
import { i18n } from '@i18n/index'

type Props = {
	item: CollectionEntry<'blog'>
}

const { r, t } = i18n(Astro.url)

const { item } = Astro.props

const url = item.slug.slice(3)
---

<li class="flex flex-shrink-0 flex-col border-y border-black sm:flex-1 sm:border-x">
	<img src={item.data.image.src} alt={item.data.image.alt} class="max-h-72 object-cover md:max-h-none" />
	<div class="flex flex-1 flex-col p-4 md:p-6">
		<Title type="h3">{item.data.title}</Title>
		<PostDate publishDate={item.data.publishDate} />
		<p class="mb-4 mt-1">{item.data.description}</p>
		<Button as="a" href={r(`/blog/${url}/`)} class="mt-auto">{t('blog.seeMore')}</Button>
	</div>
</li>
